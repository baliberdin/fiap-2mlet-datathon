extends ../layout

block content
  .row.mt-4
    h1= vacancy.title
  .row.mt-4
    .col-md-3
      .h2= vacancy.client
      p.badge.text-bg-warning.me-2= vacancy.only_pwd?'PCD':'Não PCD'
      p.badge.text-bg-success.me-2=vacancy.professional_level
      p.badge.text-bg-secondary.me-2=vacancy.purchase_value_2
      br
      for a in vacancy.areas_of_expertise.split(",")
        p.badge.text-bg-primary.me-2= a
      p 
        | Criado em: 
        i.bi.bi-calendar-week.me-2
        =vacancy.requested_date.toLocaleDateString()
    .col-md-6
      h3 Descrição
      p
        span.badge.text-bg-primary.me-2 Habilidades Comportamentais: 
        = vacancy.technical_and_behavioral_skills
        = vacancy.behavioral_skills
      p
        span.badge.text-bg-primary.me-2 Principais Atividades: 
        = vacancy.main_activities
      p
        span.badge.text-bg-primary.me-2 Observações: 
        = vacancy.other_observations
      p=`Objetivo: ${vacancy.objective}`
  .row.mt-4
    .col
      if applicants.length > 0
        table.table.table-hover.table-sm
          thead 
            tr
              th ID
              th Nome
              th E-mail
              th Telefone
              th Nível Profissional
              th Status
              th Comentário
              th Criado em
              th Atualizado em
              th Ações
          for applicant in applicants
            tr
              td= applicant.id
              td= applicant.name
              td= applicant.email
              td= applicant.phone_number
              td= applicant.professional_level
              td= applicant.status
              td= applicant.comment
              if(applicant.created_at)
                td=applicant.created_at.toLocaleDateString()
              else 
                td=''
              if(applicant.updated_at)
                td=applicant.updated_at.toLocaleDateString()
              else 
                td=''
              td
                a.btn.btn-primary.btn-sm(href=`/applicants/${applicant.id}`) Ver Detalhes

  .row.mt-4
    .col
      if bestApplicants.length > 0
        table.table.table-hover.table-sm
          thead 
            tr
              th ID
              th Nome
              th E-mail
              th Cargo
              th Similar Tokens
              th Criado em
              th Atualizado em
              th Ações
          for applicant in bestApplicants
            tr
              td= applicant.id
              td= applicant.name
              td= applicant.email
              td= applicant.professional_title? applicant.professional_title.substring(0,50) : ''
              td= applicant.similar_tokens
              if(applicant.created_at)
                td=applicant.created_at.toLocaleDateString()
              else 
                td=''
              if(applicant.updated_at)
                td=applicant.updated_at.toLocaleDateString()
              else 
                td=''
              td
                a.btn.btn-primary.btn-sm(href=`/applicants/${applicant.id}`) Ver Detalhes